{"ast":null,"code":"import axios from\"axios\";// Use environment variable with fallback\nconst API_URL=process.env.REACT_APP_API_URL||\"https://qr-frontend-4kwe.onrender.com/api\";console.log(\"🔧 Auth Service - API URL:\",\"\".concat(API_URL,\"/auth\"));const apiClient=axios.create({baseURL:\"\".concat(API_URL,\"/auth\"),timeout:10000});// Request interceptor for auth requests\napiClient.interceptors.request.use(config=>{var _config$method;console.log(\"\\uD83D\\uDD10 Auth \".concat((_config$method=config.method)===null||_config$method===void 0?void 0:_config$method.toUpperCase(),\" \").concat(config.url));return config;},error=>Promise.reject(error));// Response interceptor for auth requests\napiClient.interceptors.response.use(response=>{console.log(\"\\u2705 Auth \".concat(response.status,\" \").concat(response.config.url));return response;},error=>{var _error$response,_error$config;console.error(\"❌ Auth Error:\",{message:error.message,status:(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status,url:(_error$config=error.config)===null||_error$config===void 0?void 0:_error$config.url});throw error;});// Signup request\nexport const signup=async(name,email,password)=>{try{const response=await apiClient.post(\"/signup\",{name,email,password});return response.data;}catch(error){var _error$response2;console.error(\"Signup Error:\",((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.data)||error.message);throw error;}};// Login request\nexport const login=async(email,password)=>{try{const response=await apiClient.post(\"/login\",{email,password});return response.data;}catch(error){var _error$response3;console.error(\"Login Error:\",((_error$response3=error.response)===null||_error$response3===void 0?void 0:_error$response3.data)||error.message);throw error;}};// Get auth configuration\nexport const getAuthConfig=()=>({apiUrl:\"\".concat(API_URL,\"/auth\"),appName:process.env.REACT_APP_APP_NAME||'QR Auth',version:process.env.REACT_APP_VERSION||'1.0.0'});","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","console","log","concat","apiClient","create","baseURL","timeout","interceptors","request","use","config","_config$method","method","toUpperCase","url","error","Promise","reject","response","status","_error$response","_error$config","message","signup","name","email","password","post","data","_error$response2","login","_error$response3","getAuthConfig","apiUrl","appName","REACT_APP_APP_NAME","version","REACT_APP_VERSION"],"sources":["Z:/ProF/qr_auth/src/services/authService.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\n// Use environment variable with fallback\r\nconst API_URL = process.env.REACT_APP_API_URL || \"https://qr-frontend-4kwe.onrender.com/api\";\r\n\r\nconsole.log(\"🔧 Auth Service - API URL:\", `${API_URL}/auth`);\r\n\r\nconst apiClient = axios.create({\r\n  baseURL: `${API_URL}/auth`,\r\n  timeout: 10000,\r\n});\r\n\r\n// Request interceptor for auth requests\r\napiClient.interceptors.request.use(\r\n  (config) => {\r\n    console.log(`🔐 Auth ${config.method?.toUpperCase()} ${config.url}`);\r\n    return config;\r\n  },\r\n  (error) => Promise.reject(error)\r\n);\r\n\r\n// Response interceptor for auth requests\r\napiClient.interceptors.response.use(\r\n  (response) => {\r\n    console.log(`✅ Auth ${response.status} ${response.config.url}`);\r\n    return response;\r\n  },\r\n  (error) => {\r\n    console.error(\"❌ Auth Error:\", {\r\n      message: error.message,\r\n      status: error.response?.status,\r\n      url: error.config?.url\r\n    });\r\n    throw error;\r\n  }\r\n);\r\n\r\n// Signup request\r\nexport const signup = async (name, email, password) => {\r\n  try {\r\n    const response = await apiClient.post(\"/signup\", {\r\n      name,\r\n      email,\r\n      password,\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(\"Signup Error:\", error.response?.data || error.message);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Login request\r\nexport const login = async (email, password) => {\r\n  try {\r\n    const response = await apiClient.post(\"/login\", {\r\n      email,\r\n      password,\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(\"Login Error:\", error.response?.data || error.message);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Get auth configuration\r\nexport const getAuthConfig = () => ({\r\n  apiUrl: `${API_URL}/auth`,\r\n  appName: process.env.REACT_APP_APP_NAME || 'QR Auth',\r\n  version: process.env.REACT_APP_VERSION || '1.0.0'\r\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}